---
layout: example
title: Brick Work - Flex Grid - Example
description: Flex Grid Layout the brick the bricks
---
<style type="text/css">
  .brick-work {
    margin: 15px;
  }
  .brick img {
    margin: 0;
    display: block;
  }
</style>
<div id="brickwork" class="brick-work"></div>

<script type="text/javascript">
  
  var temp = "<div class='brick' style='width:{width}px;'><img src='http://lorempixel.com/500/500/{type}/{index}' width='100%'></div>";
  var w = 1, h = 1, html = '', limitItem = 10;

  var type = "abstract animals business cats city food nightlife fashion people nature sports transport".split(" ");
  for (var i = 0; i < limitItem; ++i) {
    w = 1 + 3 * Math.random() << 0;
    index = 1 + 10 * Math.random() << 0;
    html += temp.replace(/\{width\}/g, w*150).replace("{index}", index).replace("{type}",type[type.length * Math.random() << 0]);
  }
  $("#brickwork").html(html);
  
  var brick = new brickwork("#brickwork");
  brick.reset({
    selector: '.brick',
    animate: true,
    cellW: 150,
    cellH: 'auto',
    onResize: function() {
      brick.fitWidth();
    }
  });

  var images = brick.container.find('.brick');
  var length = images.length;
  images.css({visibility: 'hidden'});
  images.find('img').load(function() {
    -- length;
    if (!length) {
      setTimeout(function() {
        images.css({visibility: 'visible'});
        brick.fitWidth();
      }, 505);
    }
  });

</script>